{"remainingRequest":"/root/lockhash/web-app/node_modules/thread-loader/dist/cjs.js!/root/lockhash/web-app/node_modules/babel-loader/lib/index.js!/root/lockhash/web-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/root/lockhash/web-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/lockhash/web-app/src/modules/users/profile/basic.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/lockhash/web-app/src/modules/users/profile/basic.vue","mtime":1553930101455},{"path":"/root/lockhash/web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/root/lockhash/web-app/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/root/lockhash/web-app/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { cloneDeepWith } from 'lodash';\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  data: function data() {\n    return {\n      user: {\n        extends: {\n          home_url: '',\n          company: '',\n          location: ''\n        }\n      }\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['currentUser'])),\n  created: function created() {\n    this.user = cloneDeepWith(this.currentUser);\n  },\n  methods: _objectSpread({}, mapActions(['setUser']), {\n    submit: function () {\n      var _submit = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$http.patch(\"users/\".concat(this.user.username), this.user);\n\n              case 2:\n                result = _context.sent;\n\n                if (result) {\n                  this.setUser(result);\n                  this.$message.success('成功修改用户信息');\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function submit() {\n        return _submit.apply(this, arguments);\n      }\n\n      return submit;\n    }()\n  })\n};",{"version":3,"sources":["basic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,SAAA,aAAA,QAAA,QAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,QAAA,EAAA,EADA;AAEA,UAAA,OAAA,EAAA,EAFA;AAGA,UAAA,QAAA,EAAA;AAHA;AADA;AADA,KAAA;AASA,GAXA;AAYA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,aAAA,CAAA,CADA,CAZA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,IAAA,GAAA,aAAA,CAAA,KAAA,WAAA,CAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,SAAA,CAAA,CADA;AAEA,IAAA,MAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGA,KAAA,KAAA,CAAA,KAAA,iBACA,KAAA,IAAA,CAAA,QADA,GAEA,KAAA,IAFA,CAHA;;AAAA;AAGA,gBAAA,MAHA;;AAQA,oBAAA,MAAA,EAAA;AACA,uBAAA,OAAA,CAAA,MAAA;AACA,uBAAA,QAAA,CAAA,OAAA,CAAA,UAAA;AACA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAlBA,CAAA","sourcesContent":["<template>\n  <div class=\"box\">\n    <div class=\"box-heading border-bottom\">\n      <h5>个人信息</h5>\n    </div>\n    <form class=\"w-50\" @submit.prevent=\"submit\">\n      <div class=\"form-group\">\n        <label>昵称</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"user.name\">\n      </div>\n      <div class=\"form-group\">\n        <label>性别</label>\n        <div>\n          <div class=\"custom-control custom-radio custom-control-inline\">\n            <input type=\"radio\" id=\"male\" class=\"custom-control-input\" value=\"male\" v-model=\"user.gender\">\n            <label class=\"custom-control-label\" for=\"male\">男</label>\n          </div>\n          <div class=\"custom-control custom-radio custom-control-inline\">\n            <input type=\"radio\" id=\"female\" class=\"custom-control-input\" value=\"female\" v-model=\"user.gender\">\n            <label class=\"custom-control-label\" for=\"female\">女</label>\n          </div>\n        </div>\n      </div>\n      <div class=\"form-group\" v-if=\"false\">\n        <label>手机号码</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"user.phone\" disabled>\n        <small class=\"form-text text-muted\">您可以管理您的<router-link :to=\"{ name: 'user.account', hash: '#edit-phone' }\" class=\"text-blue\">手机号码设置</router-link>。</small>\n      </div>\n      <div class=\"form-group\">\n        <label>邮箱地址</label>\n        <input type=\"email\" class=\"form-control\" placeholder=\"example@yike.io\" v-model=\"user.email\" disabled>\n        <small class=\"form-text text-muted\">您可以管理您的<router-link :to=\"{ name: 'user.account', hash: '#edit-email' }\" class=\"text-blue\">邮箱地址设置</router-link>。</small>\n      </div>\n      <div class=\"form-group\">\n        <label>座右铭</label>\n        <textarea class=\"form-control\" v-model=\"user.bio\"></textarea>\n        <small class=\"form-text text-muted\">You can @mention other users and organizations to link to them.</small>\n      </div>\n      <div class=\"form-group\">\n        <label>个人主页</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"user.extends.home_url\">\n      </div>\n      <div class=\"form-group\">\n        <label>公司</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"user.extends.company\">\n        <small class=\"form-text text-muted\">You can @mention your company’s GitHub organization to link it.</small>\n      </div>\n      <div class=\"form-group\">\n        <label>当前所在地</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"user.extends.location\">\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary rounded\">保存</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { cloneDeepWith } from 'lodash'\nimport { mapGetters, mapActions } from 'vuex'\n\nexport default {\n  data () {\n    return {\n      user: {\n        extends: {\n          home_url: '',\n          company: '',\n          location: ''\n        }\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['currentUser'])\n  },\n  created () {\n    this.user = cloneDeepWith(this.currentUser)\n  },\n  methods: {\n    ...mapActions(['setUser']),\n    async submit () {\n      const result = await this.$http.patch(\n        `users/${this.user.username}`,\n        this.user\n      )\n\n      if (result) {\n        this.setUser(result)\n        this.$message.success('成功修改用户信息')\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/modules/users/profile"}]}