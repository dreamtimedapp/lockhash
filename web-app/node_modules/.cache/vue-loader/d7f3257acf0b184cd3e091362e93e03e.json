{"remainingRequest":"/root/lockhash/web-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/lockhash/web-app/src/components/comments.vue?vue&type=template&id=27aae5dc&","dependencies":[{"path":"/root/lockhash/web-app/src/components/comments.vue","mtime":1553930101451},{"path":"/root/lockhash/web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"comments\" name=\"comments\">\n  <div class=\"py-2\">\n    <div class=\"text-16 text-gray-50\">{{ comments.meta ? comments.meta.total : 0 }} 条评论</div>\n  </div>\n  <div class=\"box mb-3\" v-if=\"currentUser.id\">\n    <template v-if=\"currentUser.has_activated\">\n      <div class=\"d-flex align-items-center\">\n        <img :src=\"currentUser.avatar\" class=\"avatar-40\" :alt=\"currentUser.username\" />\n        <div class=\"text-18 text-muted ml-2 w-100\" @click=\"writing = true\">撰写评论...</div>\n      </div>\n    </template>\n    <template v-else>\n      <div class=\"text-18 ml-2 text-muted text-center\">您需要激活账户才能评论~</div>\n    </template>\n  </div>\n  <div v-else>\n    <div class=\"box mb-3\" v-if=\"currentUser\">\n      <div class=\"text-18 ml-2 text-center\">\n        您需要\n        <router-link :to=\"{ name: 'auth.login' }\" tag=\"a\" class=\"text-blue\">登录</router-link>\n        或\n        <router-link :to=\"{ name: 'auth.register' }\" tag=\"a\" class=\"text-blue\">注册</router-link>\n        才能发表评论\n      </div>\n    </div>\n  </div>\n\n  <paginator :meta=\"comments.meta\" @change=\"handlePaginate\"></paginator>\n\n  <div class=\"box box-flush\">\n    <div class=\"border-bottom box-body py-2\" :class=\"{'animated flash': $route.hash === '#comment-' + item.id}\" v-if=\"item.content && item.content.body\" v-for=\"(item,index) in comments.data\" :key=\"item.id\" :id=\"'comment-' + item.id\" :name=\"'comment-' + item.id\">\n      <user-media :user=\"item.user\">\n        <template slot=\"name-appends\">\n          <router-link tag=\"a\" class=\"text-muted text-12 ml-1\" :to=\"{name: 'users.show', params: {username: item.user.username}}\">{{ item.user.username }}</router-link>\n        </template>\n        <small slot=\"description\"><a :href=\"'#comment-' + item.id\" class=\"text-gray-70\">{{ item.created_at_timeago }}</a></small>\n        <div class=\"text-16 text-gray-60 ml-auto d-flex align-items-center\" slot=\"appends\">\n          <div class=\"mx-1 cursor-pointer d-flex\" @click=\"vote('up', item, index)\">\n            <button class=\"btn btn-icon btn-light text-gray-60\" v-if=\"!item.has_up_voted\">\n              <thumb-up-outline />\n            </button>\n            <button class=\"btn btn-icon btn-primary\" v-else>\n              <thumb-up />\n            </button>\n            <span class=\"ml-1 align-self-center\">{{ item.up_voters }}</span>\n          </div>\n          <div class=\"mx-1 cursor-pointer d-flex\" @click=\"vote('down', item, index)\">\n            <button class=\"btn btn-icon btn-light text-gray-60\" v-if=\"!item.has_down_voted\">\n              <thumb-down-outline />\n            </button>\n            <button class=\"btn btn-icon btn-danger\" v-else>\n              <thumb-down />\n            </button>\n            <span class=\"ml-1 align-self-center\">{{ item.down_voters }}</span>\n          </div>\n          <div class=\"mx-1 cursor-pointer\" @click=\"reply(item)\">\n            <button class=\"btn btn-icon btn-light text-gray-60\">\n              <reply /></button>\n          </div>\n        </div>\n      </user-media>\n      <markdown-body class=\"comment-content text-gray-40 pt-2\" v-model=\"item.content.body\"></markdown-body>\n    </div>\n  </div>\n\n  <paginator :meta=\"comments.meta\" @change=\"handlePaginate\"></paginator>\n\n  <div class=\"card card-flush shadow-30 pop-comment-form\" :class=\"{'show': writing}\">\n    <editor v-model=\"content\" class=\"comment-editor\" ref=\"editor\" placeholder=\"请使用 markdown 语法\" :options=\"editorOptions\"></editor>\n    <div class=\"p-2 d-flex align-items-center justify-content-between\">\n      <div class=\"d-flex align-items-end\">\n        <a href=\"https://guides.github.com/features/mastering-markdown/\" class=\"text-gray-50\" target=\"_blank\"><span class=\"text-14 material-design-icon\"><svg class=\"material-design-icon__svg\" viewBox=\"0 0 16 16\" version=\"1.1\" aria-hidden=\"true\">\n              <path fill-rule=\"evenodd\" d=\"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z\"></path>\n            </svg></span> Markdown 语法指南</a>\n      </div>\n      <div class=\"pop-form-btns\">\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" :disabled=\"!formReady\" @click=\"submit\">提交</button>\n        <button type=\"button\" class=\"ml-2 btn btn-sm btn-secondary\" @click=\"writing=false\">取消</button>\n      </div>\n    </div>\n  </div>\n</div>\n",null]}