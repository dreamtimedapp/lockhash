{"remainingRequest":"/root/lockhash/web-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/lockhash/web-app/src/modules/notifications/show.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/lockhash/web-app/src/modules/notifications/show.vue","mtime":1553930101455},{"path":"/root/lockhash/web-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport BellIcon from '$icons/Bell'\nimport InboxIcon from '$icons/Inbox'\nimport CheckIcon from '$icons/Check'\nimport EmptyState from '$components/empty-state'\n\nimport NewFollower from './types/new-follower'\nimport CommentMyThread from './types/comment-my-thread'\nimport LikedMyThread from './types/liked-my-thread'\nimport MentionedMe from './types/mentioned-me'\nimport SubscribedMyThread from './types/subscribed-my-thread'\nimport Welcome from './types/welcome'\n\nexport default {\n  components: {\n    EmptyState,\n    MentionedMe,\n    BellIcon,\n    InboxIcon,\n    CheckIcon,\n    NewFollower,\n    CommentMyThread,\n    LikedMyThread,\n    SubscribedMyThread,\n    Welcome\n  },\n  data () {\n    return {\n      tabs: {\n        all: '全部 ',\n        follow: '关注',\n        comment: '评论',\n        subscribe: '订阅',\n        like: '点赞'\n      },\n      currentTab: 'all',\n      notifications: []\n    }\n  },\n  watch: {\n    currentTab () {\n      this.loadNotifications(1)\n    }\n  },\n  created () {\n    this.loadNotifications()\n  },\n  methods: {\n    loadNotifications (page = 1) {\n      this.$router.push({\n        name: 'notifications.show',\n        query: { tab: this.currentTab }\n      })\n\n      this.$http\n        .get(`user/notifications?tab=${this.currentTab}&page=${page}`)\n        .then(notifications => (this.notifications = notifications.data))\n    }\n  }\n}\n",{"version":3,"sources":["show.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"show.vue","sourceRoot":"src/modules/notifications","sourcesContent":["<template>\n  <div class=\"page-notification-show\">\n    <div class=\"row\">\n      <div class=\"col-md-3\">\n        <div class=\"box mb-2\">\n          <div class=\"box-heading\">\n            <bell-icon class=\"mr-1 text-16\" />通知\n          </div>\n          <div class=\"nav flex-lg-column nav-pills\">\n            <a href=\"javascript:void(0);\" class=\"nav-link\" v-for=\"tab,id of tabs\" :class=\"{active: currentTab == id}\" @click=\"currentTab = id\">{{ tab }}</a>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-9\">\n        <div class=\"box box-flush\">\n          <ul class=\"list-group list-group-flush\" v-if=\"notifications.length > 0\">\n            <li class=\"list-group-item\">\n              {{ tabs[currentTab] }}\n            </li>\n            <li class=\"list-group-item list-group-item-action\" v-for=\"notification in notifications\" :key=\"notification.id\" :class=\"{'bg-gray-98': notification.read_at == null}\">\n              <keep-alive>\n                <component :is=\"notification.type.split('_').join('-')\" :notification=\"notification\"></component>\n              </keep-alive>\n            </li>\n          </ul>\n          <div class=\"text-center text-gray-50\" v-else>\n            <empty-state message=\"没有新的消息哦~\">\n              <template slot=\"icon\">\n                <inbox-icon></inbox-icon>\n              </template>\n            </empty-state>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BellIcon from '$icons/Bell'\nimport InboxIcon from '$icons/Inbox'\nimport CheckIcon from '$icons/Check'\nimport EmptyState from '$components/empty-state'\n\nimport NewFollower from './types/new-follower'\nimport CommentMyThread from './types/comment-my-thread'\nimport LikedMyThread from './types/liked-my-thread'\nimport MentionedMe from './types/mentioned-me'\nimport SubscribedMyThread from './types/subscribed-my-thread'\nimport Welcome from './types/welcome'\n\nexport default {\n  components: {\n    EmptyState,\n    MentionedMe,\n    BellIcon,\n    InboxIcon,\n    CheckIcon,\n    NewFollower,\n    CommentMyThread,\n    LikedMyThread,\n    SubscribedMyThread,\n    Welcome\n  },\n  data () {\n    return {\n      tabs: {\n        all: '全部 ',\n        follow: '关注',\n        comment: '评论',\n        subscribe: '订阅',\n        like: '点赞'\n      },\n      currentTab: 'all',\n      notifications: []\n    }\n  },\n  watch: {\n    currentTab () {\n      this.loadNotifications(1)\n    }\n  },\n  created () {\n    this.loadNotifications()\n  },\n  methods: {\n    loadNotifications (page = 1) {\n      this.$router.push({\n        name: 'notifications.show',\n        query: { tab: this.currentTab }\n      })\n\n      this.$http\n        .get(`user/notifications?tab=${this.currentTab}&page=${page}`)\n        .then(notifications => (this.notifications = notifications.data))\n    }\n  }\n}\n</script>\n"]}]}