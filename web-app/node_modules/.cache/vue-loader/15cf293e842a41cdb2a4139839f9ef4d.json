{"remainingRequest":"/root/lockhash/web-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/lockhash/web-app/src/modules/nodes/show.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/lockhash/web-app/src/modules/nodes/show.vue","mtime":1553930101455},{"path":"/root/lockhash/web-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\nimport HotTags from '$components/hot-tags'\nimport ThreadsList from '$components/threads-list'\nimport SubscribeBtn from '$components/buttons/subscribe-btn'\n\nexport default {\n  components: { SubscribeBtn, HotTags, ThreadsList },\n  data () {\n    return {\n      node: {},\n      threads: {\n        default: {},\n        featured: {},\n        zeroComment: {},\n        recent: {}\n      },\n      currentThreadsTab: 'default'\n    }\n  },\n  computed: {\n    ...mapGetters(['currentUser'])\n  },\n  beforeRouteUpdate (to, from, next) {\n    if (to.params.id != from.params.id) {\n      this.getNode(to.params.id)\n      this.loadThreads(to.params.id)\n    }\n\n    next()\n  },\n  created () {\n    this.getNode(this.$route.params.id)\n    this.loadThreads(this.$route.params.id)\n  },\n  watch: {\n    currentThreadsTab () {\n      this.loadThreads(this.$route.params.id, 1)\n    }\n  },\n  methods: {\n    loadThreads (id, page = 1) {\n      this.$http\n        .get(`nodes/${id}/threads?all=yes&page=${page}`)\n        .then(threads => (this.threads[this.currentThreadsTab] = threads))\n    },\n    handlePageChanged (page) {\n      this.loadThreads(page)\n    },\n    getNode (id) {\n      this.$http.get(`nodes/${id}`).then(data => {\n        this.node = data\n      })\n    }\n  }\n}\n",{"version":3,"sources":["show.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"show.vue","sourceRoot":"src/modules/nodes","sourcesContent":["<template>\n  <div class=\"page-node-show\">\n    <header class=\"page-header bg-grey-blue py-3 text-white\">\n      <div class=\"container\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-md-6\">\n            <h1>{{ node.title }}</h1>\n            <p>{{ node.description }}</p>\n          </div>\n          <div class=\"col-md-6 d-flex justify-content-end\">\n            <subscribe-btn relation=\"node\" :item=\"node\" />\n          </div>\n        </div>\n      </div>\n    </header>\n    <div class=\"container\">\n      <div class=\"row mt-3\">\n        <div class=\"col-md-9\">\n          <div class=\"box box-flush\">\n            <div class=\"box-body\">\n              <ul class=\"nav nav-pills\">\n                <li class=\"nav-item\">\n                  <a class=\"nav-link\" :class=\"{active: currentThreadsTab == 'default'}\" href=\"javascript:;\" @click=\"currentThreadsTab = 'default'\">活跃</a>\n                </li>\n                <li class=\"nav-item\">\n                  <a class=\"nav-link\" :class=\"{active: currentThreadsTab == 'featured'}\" href=\"javascript:;\" @click=\"currentThreadsTab = 'featured'\">精选</a>\n                </li>\n                <li class=\"nav-item\">\n                  <a class=\"nav-link\" :class=\"{active: currentThreadsTab == 'zeroComment'}\" href=\"javascript:;\" @click=\"currentThreadsTab = 'zeroComment'\">零回复</a>\n                </li>\n                <li class=\"nav-item\">\n                  <a class=\"nav-link\" :class=\"{active: currentThreadsTab == 'recent'}\" href=\"javascript:;\" @click=\"currentThreadsTab = 'recent'\">最新发布</a>\n                </li>\n              </ul>\n            </div>\n\n            <threads-list :threads=\"threads[currentThreadsTab]\" @page-changed=\"handlePageChanged\"></threads-list>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <hot-tags></hot-tags>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport HotTags from '$components/hot-tags'\nimport ThreadsList from '$components/threads-list'\nimport SubscribeBtn from '$components/buttons/subscribe-btn'\n\nexport default {\n  components: { SubscribeBtn, HotTags, ThreadsList },\n  data () {\n    return {\n      node: {},\n      threads: {\n        default: {},\n        featured: {},\n        zeroComment: {},\n        recent: {}\n      },\n      currentThreadsTab: 'default'\n    }\n  },\n  computed: {\n    ...mapGetters(['currentUser'])\n  },\n  beforeRouteUpdate (to, from, next) {\n    if (to.params.id != from.params.id) {\n      this.getNode(to.params.id)\n      this.loadThreads(to.params.id)\n    }\n\n    next()\n  },\n  created () {\n    this.getNode(this.$route.params.id)\n    this.loadThreads(this.$route.params.id)\n  },\n  watch: {\n    currentThreadsTab () {\n      this.loadThreads(this.$route.params.id, 1)\n    }\n  },\n  methods: {\n    loadThreads (id, page = 1) {\n      this.$http\n        .get(`nodes/${id}/threads?all=yes&page=${page}`)\n        .then(threads => (this.threads[this.currentThreadsTab] = threads))\n    },\n    handlePageChanged (page) {\n      this.loadThreads(page)\n    },\n    getNode (id) {\n      this.$http.get(`nodes/${id}`).then(data => {\n        this.node = data\n      })\n    }\n  }\n}\n</script>\n"]}]}