{"remainingRequest":"/root/lockhash/web-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/lockhash/web-app/src/app.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/root/lockhash/web-app/src/app.vue","mtime":1553930101451},{"path":"/root/lockhash/web-app/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/root/lockhash/web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/lockhash/web-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.back-to-top {\n  display: none;\n  position: fixed;\n  bottom: 30px;\n  right: 50px;\n}\n",{"version":3,"sources":["app.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA","file":"app.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"wrapper\" class=\"h-100\" :class=\"{toggled: isToggled}\">\n    <div id=\"page-content-wrapper\" class=\"w-100 position-absolute\">\n      <navbar v-if=\"shouldShowNavbar\" />\n      <div class=\"alert alert-warning text-center m-0\" role=\"alert\" v-if=\"currentUser.id && !currentUser.has_activated\">\n        您的邮箱尚未验证，将影响你的正常使用。请先验证您的邮箱，如果未收到邮件，请点击<a href=\"javascript:void(0)\" class=\"text-blue\" @click=\"sendActiveMail\">重新发送</a>！\n      </div>\n      <template v-if=\"$route.query['active-success'] && $route.query.type\">\n        <template v-if=\"$route.query.type == 'register'\">\n          <div class=\"alert alert-success text-center m-0\" role=\"alert\" v-if=\"checkParams\">\n            您的账号已激活！\n          </div>\n          <div class=\"alert alert-danger text-center m-0\" role=\"alert\" v-else>\n            邮箱验证失败，请<a href=\"javascript:void(0)\" class=\"text-blue\" @click=\"sendActiveMail\">重新发送验证邮件</a>！\n          </div>\n        </template>\n        <template v-if=\"$route.query.type == 'email'\">\n          <div class=\"alert alert-success text-center m-0\" role=\"alert\" v-if=\"checkParams\">\n            账号已修改邮箱！\n          </div>\n          <div class=\"alert alert-danger text-center m-0\" role=\"alert\" v-else>\n            验证失败！请<router-link class=\"text-blue\" :to=\"{name: 'user.account', hash: '#edit-email'}\">重新提交验证新邮箱</router-link>！\n          </div>\n        </template>\n      </template>\n      <div class=\"main-content\" :class=\"{'container my-3': withContainer}\">\n        <router-view />\n      </div>\n    </div>\n    <div class=\"position-absolute w-100 h-100 bg-white opacity-70\" v-if=\"isToggled\" @click=\"toggle\"></div>\n    <div class=\"back-to-top\" ref=\"backToTopLayer\">\n      <a class=\"btn btn-icon btn-secondary text-20\" href=\"javascript:\" @click=\"scrollToTop\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"返回顶部\">\n        <arrow-up-icon /></a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport Navbar from '$components/navbar'\nimport Sidebar from '$components/sidebar'\nimport ArrowUpIcon from '$icons/ArrowUp'\n\nexport default {\n  name: 'app',\n  components: {\n    Navbar,\n    Sidebar,\n    ArrowUpIcon\n  },\n  computed: {\n    ...mapGetters(['currentUser', 'isToggled']),\n    checkParams () {\n      return this.$route.query['active-success'] == 'yes'\n    },\n    shouldShowNavbar () {\n      return (\n        typeof this.$route.meta['navbar'] === 'undefined' ||\n        !!this.$route.meta['navbar']\n      )\n    },\n    withContainer () {\n      if (typeof this.$route.meta['container'] !== 'undefined') {\n        return !!this.$route.meta['container']\n      }\n\n      return true\n    }\n  },\n  methods: {\n    ...mapActions(['toggle']),\n    sendActiveMail () {\n      this.$http.post('user/send-active-mail').then(data => {\n        this.$message.success(data.message)\n      })\n    },\n    scrollToTop () {\n      window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth'\n      })\n    }\n  },\n  mounted () {\n    setTimeout(() => {\n      window.addEventListener('scroll', () => {\n        if (\n          document.body.scrollTop > 400 ||\n          document.documentElement.scrollTop > 400\n        ) {\n          this.$refs['backToTopLayer'].style.display = 'block'\n        } else {\n          this.$refs['backToTopLayer'].style.display = 'none'\n        }\n      })\n    }, 1000)\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.back-to-top {\n  display: none;\n  position: fixed;\n  bottom: 30px;\n  right: 50px;\n}\n</style>\n"]}]}