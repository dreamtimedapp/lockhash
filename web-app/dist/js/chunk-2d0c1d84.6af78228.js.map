{"version":3,"sources":["webpack:///./src/modules/auth/login.vue?bb0e","webpack:///./src/components/socialite-login.vue?41b2","webpack:///src/components/socialite-login.vue","webpack:///./src/components/socialite-login.vue?998b","webpack:///./src/components/socialite-login.vue","webpack:///src/modules/auth/login.vue","webpack:///./src/modules/auth/login.vue?e052","webpack:///./src/modules/auth/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","submit","$event","preventDefault","_m","directives","name","rawName","value","expression","attrs","type","required","domProps","input","target","composing","username","password","to","staticRenderFns","socialite_loginvue_type_template_id_c8248c48_scoped_true_render","click","oauth","socialite_loginvue_type_template_id_c8248c48_scoped_true_staticRenderFns","socialite_loginvue_type_script_lang_js_","components","GooglePlus","FacebookIcon","Facebook","QqIcon","Qqchat","GithubIcon","GithubCircle","methods","platform","iOSChrome","test","navigator","userAgent","url","window","location","href","windowObjectReference","closed","heights","github","google","facebook","popupCenter","focus","title","w","h","dualScreenLeft","undefined","screenLeft","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","document","documentElement","clientWidth","screen","height","innerHeight","clientHeight","left","top","newWindow","open","components_socialite_loginvue_type_script_lang_js_","component","Object","componentNormalizer","socialite_login","loginvue_type_script_lang_js_","data","SocialiteBtns","objectSpread","vuex_esm","_submit","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","attemptLogin","$message","success","$router","push","t0","status","error","stop","apply","arguments","auth_loginvue_type_script_lang_js_","login_component","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0c1d84.6af78228.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row pt-3\"},[_c('div',{staticClass:\"offset-sm-4 col-sm-4\"},[_c('div',{staticClass:\"box\"},[_c('h4',{staticClass:\"text-center font-weight-normal mt-2\"},[_vm._v(\"用户登录\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_c('div',{staticClass:\"form-group\"},[_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"密码\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"required\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('button',{staticClass:\"my-2 btn btn-primary w-100\",attrs:{\"type\":\"submit\"}},[_vm._v(\"登录\")])]),_c('div',{staticClass:\"mb-2 d-flex justify-content-around\"})])]),_c('div',{staticClass:\"offset-sm-4 col-sm-4 text-center mt-2 d-flex justify-content-between\"},[_c('p',[_vm._v(\"没有账号？ \"),_c('router-link',{staticClass:\"text-blue\",attrs:{\"to\":{ name: 'auth.register' }}},[_vm._v(\"快速注册\")])],1),_c('p',[_c('router-link',{staticClass:\"text-blue\",attrs:{\"to\":{ name: 'auth.forget-password' }}},[_vm._v(\"忘记密码？\")])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',[_vm._v(\"用户名\"),_c('small',[_vm._v(\"（或邮箱）\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"oauth-btns d-flex align-items-center justify-content-between\"},[_c('div',{staticClass:\"text-20 btn mx-1 btn-icon btn-dark\",on:{\"click\":function($event){return _vm.oauth('github')}}},[_c('github-icon')],1),_c('div',{staticClass:\"text-20 btn mx-1 btn-icon btn-pink\",on:{\"click\":function($event){return _vm.oauth('google')}}},[_c('google-plus')],1),_c('div',{staticClass:\"text-20 btn mx-1 btn-icon btn-facebook\",on:{\"click\":function($event){return _vm.oauth('facebook')}}},[_c('facebook-icon')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"oauth-btns d-flex align-items-center justify-content-between\">\n    <div class=\"text-20 btn mx-1 btn-icon btn-dark\" @click=\"oauth('github')\">\n      <github-icon/>\n    </div>\n    <div class=\"text-20 btn mx-1 btn-icon btn-pink\" @click=\"oauth('google')\">\n      <google-plus/>\n    </div>\n    <div class=\"text-20 btn mx-1 btn-icon btn-facebook\" @click=\"oauth('facebook')\">\n      <facebook-icon/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport GooglePlus from '$icons/GooglePlus'\nimport FacebookIcon from '$icons/Facebook'\nimport QqIcon from '$icons/Qqchat'\nimport GithubIcon from '$icons/GithubCircle'\n\nexport default {\n  name: 'oauth-btn',\n  components: { GooglePlus, FacebookIcon, QqIcon, GithubIcon },\n  methods: {\n    oauth (platform) {\n      let iOSChrome =\n        /Mobile/.test(navigator.userAgent) && /CriOS/.test(navigator.userAgent)\n      let url = '/auth/oauth-redirect/' + platform\n      if (iOSChrome) {\n        window.location.href = url\n      } else {\n        let windowObjectReference = null\n        if (windowObjectReference == null || windowObjectReference.closed) {\n          let heights = {\n            github: 680,\n            google: 540,\n            facebook: 700\n          }\n          windowObjectReference = this.popupCenter(\n            url,\n            '_blank',\n            500,\n            heights[platform]\n          )\n        } else {\n          windowObjectReference.focus()\n        }\n      }\n    },\n\n    popupCenter (url, title, w, h) {\n      // Fixes dual-screen position                         Most browsers      Firefox\n      let dualScreenLeft =\n        window.screenLeft !== undefined ? window.screenLeft : window.screenX\n      let dualScreenTop =\n        window.screenTop !== undefined ? window.screenTop : window.screenY\n\n      let width = window.innerWidth\n        ? window.innerWidth\n        : document.documentElement.clientWidth\n          ? document.documentElement.clientWidth\n          : window.screen.width\n      let height = window.innerHeight\n        ? window.innerHeight\n        : document.documentElement.clientHeight\n          ? document.documentElement.clientHeight\n          : window.screen.height\n\n      let left = width / 2 - w / 2 + dualScreenLeft\n      let top = height / 2 - h / 2 + dualScreenTop\n      let newWindow = window.open(\n        url,\n        title,\n        'scrollbars=yes, width=' +\n          w +\n          ', height=' +\n          h +\n          ', top=' +\n          top +\n          ', left=' +\n          left\n      )\n\n      // Puts focus on the newWindow\n      if (window.focus) {\n        newWindow.focus()\n      }\n\n      return newWindow\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./socialite-login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./socialite-login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./socialite-login.vue?vue&type=template&id=c8248c48&scoped=true&\"\nimport script from \"./socialite-login.vue?vue&type=script&lang=js&\"\nexport * from \"./socialite-login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8248c48\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"row pt-3\">\n    <div class=\"offset-sm-4 col-sm-4\">\n      <div class=\"box\">\n        <h4 class=\"text-center font-weight-normal mt-2\">用户登录</h4>\n        <form @submit.prevent=\"submit\">\n          <div class=\"form-group\">\n            <label>用户名<small>（或邮箱）</small></label>\n            <input type=\"text\" class=\"form-control\" v-model=\"username\" required>\n          </div>\n          <div class=\"form-group\">\n            <label>密码</label>\n            <input type=\"password\" class=\"form-control\" v-model=\"password\" required>\n          </div>\n          <button type=\"submit\" class=\"my-2 btn btn-primary w-100\">登录</button>\n        </form>\n        <div class=\"mb-2 d-flex justify-content-around\">\n          <!--<socialite-btns></socialite-btns>-->\n        </div>\n      </div>\n    </div>\n    <div class=\"offset-sm-4 col-sm-4 text-center mt-2 d-flex justify-content-between\">\n      <p>没有账号？ <router-link class=\"text-blue\" :to=\"{ name: 'auth.register' }\">快速注册</router-link>\n      </p>\n      <p>\n        <router-link class=\"text-blue\" :to=\"{ name: 'auth.forget-password' }\">忘记密码？</router-link>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport SocialiteBtns from '$components/socialite-login'\nexport default {\n  data () {\n    return {\n      username: '',\n      password: ''\n    }\n  },\n  components: { SocialiteBtns },\n  methods: {\n    ...mapActions(['attemptLogin']),\n\n    async submit () {\n      const { username, password } = this\n\n      try {\n        await this.attemptLogin({ username, password })\n\n        this.$message.success('欢迎回来~')\n        this.$router.push({ name: 'home' })\n      } catch (e) {\n        if (e.status !== 422) {\n          this.$message.error('账号密码错误！')\n        }\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=03c0302c&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}