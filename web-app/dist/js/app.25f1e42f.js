(function(e){function n(n){for(var c,u,o=n[0],i=n[1],h=n[2],d=0,f=[];d<o.length;d++)u=o[d],r[u]&&f.push(r[u][0]),r[u]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);s&&s(n);while(f.length)f.shift()();return a.push.apply(a,h||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],c=!0,u=1;u<t.length;u++){var o=t[u];0!==r[o]&&(c=!1)}c&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var c={},u={app:0},r={app:0},a=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-12bee5a4":"07e63e23","chunk-25041c90":"6b5afbe9","chunk-25193a1c":"dfd02cce","chunk-2d0b23b7":"cc2add08","chunk-2d0b66fc":"569e18f0","chunk-2d0b8ed2":"f4110273","chunk-2d0bac1e":"cca75c7b","chunk-2d0de194":"ce572562","chunk-2d20888b":"636cdb0b","chunk-2d213022":"1cb9650e","chunk-2d22bf42":"3ce24f31","chunk-2d0c213c":"5790c882","chunk-2e8f411f":"571e182e","chunk-4c647053":"4240b801","chunk-428c53fb":"04d2dd95","chunk-eb5c4166":"e1bf3af2","chunk-540b4fae":"754320f8","chunk-5dc75275":"fce85075","chunk-654d3cf9":"fe6f3342","chunk-66a6a918":"157790fe","chunk-3cc5df75":"63f4d356","chunk-d299d892":"08fe65bb","chunk-4da6f5b0":"4cdb96e4","chunk-45822230":"9008c588","chunk-4a92d88e":"905888a6","chunk-757599fb":"779ca4cc","chunk-2d0c0a51":"81d87469","chunk-3eaf514f":"3417cf48","chunk-7c8bfbf5":"fc33d747","chunk-76d2d384":"7d3ff4ad","chunk-76d51228":"9a975d8c","chunk-76e827c1":"b36ce117","chunk-76e97625":"756b93df","chunk-76e9fb57":"1122b4e9","chunk-7976d8fa":"a73f9533","chunk-828fe38a":"cbe8a7c9","chunk-9030a816":"145cd1e4","chunk-d22f97e8":"2aecefe7","chunk-242e02fa":"3eff61ec","chunk-2d0c1d84":"6af78228"}[e]+".js"}function i(n){if(c[n])return c[n].exports;var t=c[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-4c647053":1,"chunk-428c53fb":1,"chunk-eb5c4166":1,"chunk-5dc75275":1,"chunk-3cc5df75":1,"chunk-d299d892":1,"chunk-4da6f5b0":1,"chunk-45822230":1,"chunk-4a92d88e":1,"chunk-757599fb":1,"chunk-3eaf514f":1,"chunk-76d2d384":1,"chunk-76d51228":1,"chunk-76e827c1":1,"chunk-76e97625":1,"chunk-76e9fb57":1,"chunk-7976d8fa":1,"chunk-9030a816":1};u[e]?n.push(u[e]):0!==u[e]&&t[e]&&n.push(u[e]=new Promise(function(n,t){for(var c="css/"+({}[e]||e)+"."+{"chunk-12bee5a4":"31d6cfe0","chunk-25041c90":"31d6cfe0","chunk-25193a1c":"31d6cfe0","chunk-2d0b23b7":"31d6cfe0","chunk-2d0b66fc":"31d6cfe0","chunk-2d0b8ed2":"31d6cfe0","chunk-2d0bac1e":"31d6cfe0","chunk-2d0de194":"31d6cfe0","chunk-2d20888b":"31d6cfe0","chunk-2d213022":"31d6cfe0","chunk-2d22bf42":"31d6cfe0","chunk-2d0c213c":"31d6cfe0","chunk-2e8f411f":"31d6cfe0","chunk-4c647053":"1f337190","chunk-428c53fb":"26247af9","chunk-eb5c4166":"c817b009","chunk-540b4fae":"31d6cfe0","chunk-5dc75275":"51106675","chunk-654d3cf9":"31d6cfe0","chunk-66a6a918":"31d6cfe0","chunk-3cc5df75":"b7fcf66e","chunk-d299d892":"50fae1cd","chunk-4da6f5b0":"e5928002","chunk-45822230":"b358e835","chunk-4a92d88e":"8a262021","chunk-757599fb":"1f337190","chunk-2d0c0a51":"31d6cfe0","chunk-3eaf514f":"c81b1be1","chunk-7c8bfbf5":"31d6cfe0","chunk-76d2d384":"74a14c90","chunk-76d51228":"722bdf1d","chunk-76e827c1":"9cfa7bbf","chunk-76e97625":"d11f382a","chunk-76e9fb57":"8a757925","chunk-7976d8fa":"8d30b43c","chunk-828fe38a":"31d6cfe0","chunk-9030a816":"b2bbb747","chunk-d22f97e8":"31d6cfe0","chunk-242e02fa":"31d6cfe0","chunk-2d0c1d84":"31d6cfe0"}[e]+".css",r=i.p+c,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var h=a[o],d=h.getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(d===c||d===r))return n()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){h=f[o],d=h.getAttribute("data-href");if(d===c||d===r)return n()}var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onload=n,s.onerror=function(n){var c=n&&n.target&&n.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");a.request=c,delete u[e],s.parentNode.removeChild(s),t(a)},s.href=r;var l=document.getElementsByTagName("head")[0];l.appendChild(s)}).then(function(){u[e]=0}));var c=r[e];if(0!==c)if(c)n.push(c[2]);else{var a=new Promise(function(n,t){c=r[e]=[n,t]});n.push(c[2]=a);var h,d=document.getElementsByTagName("head")[0],f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=o(e),h=function(n){f.onerror=f.onload=null,clearTimeout(s);var t=r[e];if(0!==t){if(t){var c=n&&("load"===n.type?"missing":n.type),u=n&&n.target&&n.target.src,a=new Error("Loading chunk "+e+" failed.\n("+c+": "+u+")");a.type=c,a.request=u,t[1](a)}r[e]=void 0}};var s=setTimeout(function(){h({type:"timeout",target:f})},12e4);f.onerror=f.onload=h,d.appendChild(f)}return Promise.all(n)},i.m=e,i.c=c,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var c in e)i.d(t,c,function(n){return e[n]}.bind(null,c));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/",i.oe=function(e){throw console.error(e),e};var h=window["webpackJsonp"]=window["webpackJsonp"]||[],d=h.push.bind(h);h.push=n,h=h.slice();for(var f=0;f<h.length;f++)n(h[f]);var s=d;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);var c={};t.r(c),t.d(c,"attemptLogin",function(){return J}),t.d(c,"attemptRegister",function(){return K}),t.d(c,"logout",function(){return Q}),t.d(c,"setUser",function(){return Y}),t.d(c,"setToken",function(){return F}),t.d(c,"checkUserToken",function(){return z}),t.d(c,"loadUser",function(){return D});var u={};t.r(u),t.d(u,"isLogged",function(){return G}),t.d(u,"authToken",function(){return H}),t.d(u,"currentUser",function(){return V});var r={};t.r(r),t.d(r,"toggle",function(){return ae});var a={};t.r(a),t.d(a,"isToggled",function(){return oe});var o={};t.r(o),t.d(o,"toggle",function(){return ie});t("cadf"),t("551c"),t("f751"),t("097d");var i=t("d232"),h=t("5c96"),d=(t("aaa5"),t("0fb7"),t("2b0e")),f=t("31bd"),s=t("795b"),l=t.n(s),b=(t("06db"),t("1157")),k=t.n(b);window._=Promise.resolve().then(t.t.bind(null,"2ef0",7)),window.Popper=t.e("chunk-2d22bf42").then(t.bind(null,"f0bd")).default;try{window.$=window.jQuery=k.a,Promise.all([t.e("chunk-2d22bf42"),t.e("chunk-2d0c213c")]).then(t.t.bind(null,"4989",7)),t.e("chunk-76e827c1").then(t.t.bind(null,"a878",7)),t.e("chunk-76d2d384").then(t.t.bind(null,"29d8",7)),t.e("chunk-76d51228").then(t.t.bind(null,"77ed",7)),t.e("chunk-76e9fb57").then(t.t.bind(null,"e7fb",7)),t.e("chunk-76e97625").then(t.t.bind(null,"d48d",7)),"function"!==typeof l.a.prototype["finally"]&&(l.a.prototype["finally"]=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})})}catch(Ee){throw Ee}var p,m=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("router-view")},g=[],v=t("2877"),w={},y=Object(v["a"])(w,m,g,!1,null,null,null),j=y.exports,O=t("75fc"),P=[{path:"auth/login",name:"auth.login",component:function(){return Promise.all([t.e("chunk-d22f97e8"),t.e("chunk-2d0c1d84")]).then(t.bind(null,"487a"))}},{path:"auth/register",name:"auth.register",component:function(){return Promise.all([t.e("chunk-d22f97e8"),t.e("chunk-242e02fa")]).then(t.bind(null,"bd49"))}},{path:"auth/oauth-redirect/:platform",name:"auth.oauth_redirect",meta:{navbar:!1,container:!1},component:function(){return t.e("chunk-25193a1c").then(t.bind(null,"ea9d"))}},{path:"auth/oauth-callback/:platform",name:"auth.oauth_callback",meta:{navbar:!1,container:!1},component:function(){return t.e("chunk-25193a1c").then(t.bind(null,"ea9d"))}},{path:"/user/forget-password",name:"auth.forget-password",component:function(){return t.e("chunk-2d0bac1e").then(t.bind(null,"3924"))}},{path:"/user/reset-password",name:"auth.reset-password",component:function(){return t.e("chunk-2d0b23b7").then(t.bind(null,"22de"))}}],T={user:{},token:null},E=t("bd86"),A="Auth//SET_TOKEN",_="Auth//SET_USER",U=(p={},Object(E["a"])(p,A,function(e,n){e.token=n}),Object(E["a"])(p,_,function(e,n){e.user=n}),p),q="APP_USER_TOKEN",S=t("a002"),x=t.n(S),M=function(e){e.subscribe(function(e,n){var t=n.Auth;A===e.type&&(Object(i["b"])(t.token),x.a.setItem(q,t.token))})},N=function(e){M(e)},L=t("4328"),C=t.n(L),$=function(e){var n=e.username,t=e.password;return i["a"].post("/oauth/token",C.a.stringify({grant_type:"password",client_id:"2",client_secret:"5M5IrQTQ3FYJ0OtkLmj7USEfluc9hUYqtPut6Y6L",username:n,password:t,scope:""}))},B=function(e){return i["a"].post("/auth/register",e)},I=function(){return i["a"].get("/me").catch(function(){})},R=t("2ef0"),J=function(e,n){var t=e.dispatch;return $(n).then(function(e){return t("setToken",e.access_token),l.a.resolve()}).then(function(){return t("loadUser")})},K=function(e,n){var t=e.dispatch;return B(n).then(function(e){var n=e.token;return t("setToken",n),l.a.resolve()}).then(function(){return t("loadUser")})},Q=function(e){var n=e.dispatch;return x.a.removeItem(q).then(n("setToken",null)).then(n("setUser",{}))},Y=function(e,n){var t=e.commit;t(_,n),l.a.resolve(n)},F=function(e,n){var t=e.commit,c=Object(R["isEmpty"])(n)?null:n.token||n;return t(A,c),l.a.resolve(c)},z=function(e){var n=e.dispatch,t=e.state;return Object(R["isEmpty"])(t.token)?x.a.getItem(q).then(function(e){return Object(R["isEmpty"])(e)?l.a.reject("NO_TOKEN"):n("setToken",e)}).then(function(){return n("loadUser")}):l.a.resolve(t.token)},D=function(e){var n=e.dispatch;return I().then(function(e){return n("setUser",e)}).catch(Q)},G=function(e){var n=e.token;return!Object(R["isEmpty"])(n)},H=function(e){var n=e.token;return n},V=function(e){var n=e.user;return n},W={module:{state:T,mutations:U,actions:c,getters:u},plugin:N},X=[{path:"/",name:"home",component:function(){return Promise.all([t.e("chunk-757599fb"),t.e("chunk-3eaf514f")]).then(t.bind(null,"e360"))}}],Z=[{path:"/nodes",name:"nodes.show",component:function(){return t.e("chunk-2d20888b").then(t.bind(null,"a4ce"))}},{path:"/nodes/:id",name:"nodes.node",component:function(){return Promise.all([t.e("chunk-757599fb"),t.e("chunk-7c8bfbf5")]).then(t.bind(null,"19a1"))},meta:{container:!1}}],ee=[{path:"notifications",name:"notifications.show",component:function(){return t.e("chunk-5dc75275").then(t.bind(null,"8a9c"))},meta:{requiresAuth:!0}}],ne=[{path:"pages/privacy",name:"pages.privacy",component:function(){return t.e("chunk-2d0b66fc").then(t.bind(null,"1cc7"))}},{path:"pages/404",name:"pages.not-found",component:function(){return t.e("chunk-654d3cf9").then(t.bind(null,"1ce3"))}}],te=[{path:"threads/create",name:"threads.create",component:function(){return Promise.all([t.e("chunk-66a6a918"),t.e("chunk-4da6f5b0"),t.e("chunk-4a92d88e")]).then(t.bind(null,"8b73"))}},{path:"threads/:id/edit",name:"threads.edit",component:function(){return Promise.all([t.e("chunk-66a6a918"),t.e("chunk-4da6f5b0"),t.e("chunk-4a92d88e")]).then(t.bind(null,"8b73"))}},{path:"threads/:id",name:"threads.show",component:function(){return Promise.all([t.e("chunk-66a6a918"),t.e("chunk-4da6f5b0"),t.e("chunk-3cc5df75"),t.e("chunk-45822230")]).then(t.bind(null,"5fd3"))}}],ce=[{path:"/:username",component:function(){return Promise.all([t.e("chunk-66a6a918"),t.e("chunk-3cc5df75"),t.e("chunk-d299d892")]).then(t.bind(null,"d7b0"))},children:[{path:"/",name:"users.show",meta:{container:!1},component:function(){return t.e("chunk-540b4fae").then(t.bind(null,"1201"))}},{path:"threads",name:"users.threads",meta:{container:!1},component:function(){return Promise.all([t.e("chunk-757599fb"),t.e("chunk-2d0c0a51")]).then(t.bind(null,"4351"))}},{path:"followers",name:"users.followers",meta:{container:!1},component:function(){return Promise.all([t.e("chunk-4c647053"),t.e("chunk-eb5c4166")]).then(t.bind(null,"8f0b"))}},{path:"following",name:"users.following",meta:{container:!1},component:function(){return Promise.all([t.e("chunk-4c647053"),t.e("chunk-428c53fb")]).then(t.bind(null,"0320"))}}]},{path:"/user",component:function(){return t.e("chunk-9030a816").then(t.bind(null,"7abc"))},children:[{path:"profile",name:"user.profile",meta:{requiresAuth:!0},component:function(){return t.e("chunk-25041c90").then(t.bind(null,"4b0c"))}},{path:"account",name:"user.account",meta:{requiresAuth:!0},component:function(){return t.e("chunk-828fe38a").then(t.bind(null,"fee0"))}},{path:"extends",name:"user.extends",meta:{requiresAuth:!0},component:function(){return t.e("chunk-2e8f411f").then(t.bind(null,"805a"))}},{path:"notification",name:"user.notification-setting",meta:{requiresAuth:!0},component:function(){return t.e("chunk-2d0b8ed2").then(t.bind(null,"3186"))}},{path:"bindings",name:"user.bindings",meta:{requiresAuth:!0},component:function(){return t.e("chunk-2d213022").then(t.bind(null,"ab9d"))}},{path:"avatar",name:"user.avatar",meta:{requiresAuth:!0},component:function(){return t.e("chunk-12bee5a4").then(t.bind(null,"acb4"))}},{path:"blacklist",name:"user.blacklist",meta:{requiresAuth:!0},component:function(){return t.e("chunk-2d0de194").then(t.bind(null,"83cf"))}}]}],ue=t("8c4f"),re=t("2f62"),ae=function(e){var n=e.commit;return n("toggle")},oe=function(e){var n=e.toggled;return n},ie=function(e){return e.toggled=!e.toggled},he={toggled:!1},de=t("cebc"),fe=t("a4bb"),se=t.n(fe),le={Auth:W},be=se()(le),ke=be.reduce(function(e,n){return Object(de["a"])({},e,Object(E["a"])({},n,le[n].module))},{}),pe=be.reduce(function(e,n){return[].concat(Object(O["a"])(e),[le[n].plugin])},[]).filter(R["isFunction"]),me={modules:ke,plugins:pe};d["default"].use(re["a"]);var ge=new re["a"].Store({state:he,mutations:o,actions:r,modules:me.modules,plugins:me.plugins,getters:a,strict:!1}),ve=function(e){return!0===e.meta.requiresAuth},we=function(e,n,t){ge.dispatch("checkUserToken").then(function(){return ge.getters.isLogged&&e.path.indexOf("auth")>0?t({name:"home"}):t()}).catch(function(){if(ve(e))return t({name:"auth.login"});t()})},ye=we;d["default"].use(ue["a"]);var je={path:"/",component:function(){return t.e("chunk-7976d8fa").then(t.bind(null,"7fe4"))},children:[].concat(Object(O["a"])(P),Object(O["a"])(X),Object(O["a"])(te),Object(O["a"])(ee),Object(O["a"])(Z),Object(O["a"])(ne),Object(O["a"])(ce))},Oe=[je],Pe=new ue["a"]({routes:Oe,linkActiveClass:"active",linkExactActiveClass:"active",mode:"history"});Pe.beforeEach(ye);var Te=Pe;d["default"].config.productionTip=!1,Object(f["sync"])(ge,Te),d["default"].prototype.$message=h["Message"],d["default"].prototype.$http=i["a"],d["default"].prototype.$user=function(){return ge.getters.currentUser},setTimeout(function(){new d["default"]({store:ge,router:Te,render:function(e){return e(j)}}).$mount("#app")},200)},d232:function(e,n,t){"use strict";var c=t("bc3a"),u=t.n(c),r=t("a4bb"),a=t.n(r),o=t("795b"),i=t.n(o),h=t("5c96"),d=function(e){e.interceptors.request.use(function(e){return e.withCredentials=!1,e},function(e){return i.a.reject(e)}),e.interceptors.response.use(function(e){return e.data},function(e){if(!e["response"])return i.a.reject(e);switch(e.response.status){case 422:var n=e.response.data.errors,t="";a()(n).map(function(e){var c=n[e];t=c[0]}),h["Message"].error(t);break;case 403:h["Message"].error(e.response.data.message||"您没有此操作权限！");break;case 401:"/auth/login"!==window.location.pathname&&(window.location.href="/auth/login");break;case 500:case 501:case 503:default:h["Message"].error("服务器出了点小问题，程序员小哥哥要被扣工资了~！")}return i.a.reject(e.response)})};t.d(n,"b",function(){return s});var f=u.a.create({baseURL:"http://api.hashlock.io",timeout:1e4});function s(e){f.defaults.headers.common.Authorization="Bearer ".concat(e)}d(f);n["a"]=f}});
//# sourceMappingURL=app.25f1e42f.js.map